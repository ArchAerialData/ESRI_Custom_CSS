/* ================= Phillips 66 Portfolio – Clean CSS =================*/

/* ================= Phillips 66 Portfolio – Clean CSS =================
   - Keeps: red→gray animated header + animated selected tab
   - Keeps: CENTERED header overlay logo (uses Dropbox URL below)
   - Uses NATIVE ESRI left logo (no CSS logos on the left)
   - Removes: prior left-logo (::before), any rules hiding the native logo,
              and redundant/overridden blocks from earlier iterations
====================================================================== */

/* ================= Brand tokens ================= */
:root{
  /* Reds (tempered) */
  --brand-red:   #840e11;
  --brand-red-2: #690a0e;

  /* Grays (no pinks) */
  --brand-gray-1: #181b1f; /* darkest */
  --brand-gray-2: #2a3036; /* mid-dark */
  --brand-gray-3: #565d66; /* mid */

  --app-header-gradient-speed: 16s;
  --tab-gradient-speed: 14s;

  /* ----- Centered overlay logo controls ----- */
  --overlay-logo-url: url("https://www.dropbox.com/scl/fi/cy2fkxwgik9oyy4xguyvg/p66-banner.png?rlkey=msaw267wntf7dcgyj9li7dvfy&st=t4zflqjc&raw=1");
  --overlay-logo-width: clamp(260px, 36vw, 560px);
  --overlay-logo-height: min(64px, calc(var(--instant-apps-header-height, 56px) - 6px));
}

/* ================= Header (Instant Apps) ================= */
instant-apps-header{
  /* Red → Gray with a compressed red band + contrast overlay */
  background:
    linear-gradient(
      110deg,
      var(--brand-red-2) 0%,
      var(--brand-red)   18%,
      var(--brand-gray-2) 36%,
      var(--brand-gray-1) 100%
    ),
    linear-gradient(180deg, rgba(0,0,0,.45) 0%, rgba(0,0,0,.20) 40%, rgba(0,0,0,.50) 100%);
  background-size: 400% 400%, 100% 100%;
  animation: appHeaderShift var(--app-header-gradient-speed) ease-in-out infinite;

  /* Calcite tokens inside header */
  --calcite-color-foreground-1: transparent;
  --calcite-color-text-1: #ffffff;
  --calcite-color-text-2: #e9ecef;
  --calcite-color-brand: var(--brand-red);
  --calcite-color-brand-hover: #b3151b;

  position: relative;
  z-index: 0;
  box-shadow: inset 0 -1px 0 rgba(255,255,255,.10);
}

/* Keep internal wrappers transparent and with sane padding */
instant-apps-header::part(container),
instant-apps-header::part(wrapper){
  background: transparent !important;
  padding-left: 16px !important;
  padding-right: 16px !important;
}

/* ===== Centered overlay PNG logo (kept) ===== */
instant-apps-header::after{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: var(--overlay-logo-width);
  height: var(--overlay-logo-height);
  transform: translate(-50%, -50%);
  background: var(--overlay-logo-url) no-repeat center center / contain;
  pointer-events: none;
  z-index: 2;
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.25));
}

/* Motion preference */
@media (prefers-reduced-motion: reduce){
  instant-apps-header{ animation: none; }
}

/* Header animation */
@keyframes appHeaderShift{
  0%{background-position:0% 50%, 0 0}
  50%{background-position:100% 50%, 0 0}
  100%{background-position:0% 50%, 0 0}
}

/* ================= Tabs ================= */
#tabbedLayout .esri-portfolio-tabbed__tab-list .esri-portfolio-tabbed-item{
  background: rgba(255,255,255,.06);
  color: #ffffff;
  transition: background .2s ease, color .2s ease, box-shadow .2s ease;
  border-radius: 6px;
}
#tabbedLayout .esri-portfolio-tabbed__tab-list .esri-portfolio-tabbed-item:hover{
  background: rgba(255,255,255,.12);
  box-shadow: 0 1px 6px rgba(0,0,0,.25);
}

/* Selected tab: animated red → gray */
#tabbedLayout .esri-portfolio-tabbed__tab-list .esri-portfolio-tabbed-item--selected,
#tabbedLayout .esri-portfolio-tabbed__tab-list .esri-portfolio-tabbed-item--selected:hover{
  background:
    linear-gradient(
      135deg,
      var(--brand-red-2) 0%,
      var(--brand-red)   42%,
      var(--brand-gray-3) 70%,
      var(--brand-gray-2) 100%
    ),
    linear-gradient(180deg, rgba(255,255,255,.05) 0%, rgba(0,0,0,.14) 100%) !important;
  background-size: 220% 220%, 100% 100%;
  animation: tabRedShift var(--tab-gradient-speed) ease-in-out infinite;
  color: #ffffff !important;
  text-shadow: 0 1px 0 rgba(0,0,0,.4);
  box-shadow: 0 0 0 1px rgba(0,0,0,.25) inset, 0 2px 10px rgba(227,28,36,.22);
}

@keyframes tabRedShift{
  0%{background-position:0% 50%, 0 0}
  50%{background-position:100% 50%, 0 0}
  100%{background-position:0% 50%, 0 0}
}
